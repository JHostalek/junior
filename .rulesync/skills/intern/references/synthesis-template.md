# Skill Synthesis Template

Use this template when generating a new SKILL.md from a detected pattern.

## SKILL.md Template

```markdown
---
name: {kebab-case-name}
description: >
  {What this skill does, <=100 words. Must include trigger phrases â€” what the user
  would say to invoke this. Include "When to use" context. Include at least one
  "Do NOT use when" disambiguation.}
allowed-tools: {comma-separated list of tools this skill needs}
---

# {Skill Name}

{1-2 sentence summary of what this automation does.}

## What This Does

{Brief explanation of the pattern this skill automates and why it exists.}

## Steps

1. {First step with exact commands/actions}
2. {Second step}
3. {Continue as needed}

## Constraints

- Do NOT {explicit boundary derived from the pattern}
- Do NOT {another negative constraint}
- {Additional safety constraints if destructive operations involved}

## When to Use / When NOT to Use

| Use When | Don't Use When |
|----------|----------------|
| {specific trigger condition} | {common false trigger} |
| {another trigger} | {another false trigger} |

## Provenance

- **Generated by**: Intern skill
- **Pattern**: {pattern title}
- **Category**: {correction | repetition | friction | manual_step}
- **Source sessions**: {count} sessions between {first_seen} and {last_seen}
- **Occurrences**: {frequency count}
- **Score**: {computed score}
```

## CLAUDE.md Rule Template

For corrections that should become behavioral rules rather than standalone skills:

```markdown
## {Rule Title}

- {Concise, actionable rule statement}
- {Second point if needed}

<!-- intern: pattern="{pattern_title}" freq={frequency} confidence={confidence} first_seen={date} -->
```

### Rule Placement Decision

| Condition | Target File |
|-----------|-------------|
| Applies to all projects (universal behavior) | `~/.claude/CLAUDE.md` |
| Applies to this project only | `./CLAUDE.md` |
| Personal preference, not for team | `./.claude.local.md` |
| Applies to a specific directory/module | `./{path}/CLAUDE.md` |
| Topic-specific rule collection | `./.rulesync/rules/{topic}.md` |

## Skill Type Selection

| Pattern Category | Default Skill Type | Override When |
|------------------|--------------------|---------------|
| Correction (behavioral) | CLAUDE.md rule | If about a specific tool -> CLI Wrapper skill |
| Repetition (tool chain) | CLI Wrapper skill | If chain involves decisions -> Orchestrator |
| Friction (disambiguation) | Disambiguator skill | If friction is from missing context -> Reference skill |
| Manual step (automation) | CLI Wrapper skill | If step needs confirmation -> add confirmation gate |

## Quality Constraint Checklist

Before finalizing any proposal, verify:

- [ ] Description <= 100 words
- [ ] Description contains triggering/routing information
- [ ] Body < 5,000 words
- [ ] Has at least one explicit "do NOT" constraint
- [ ] Has "When to Use / When NOT to Use" disambiguation table
- [ ] Runtime gating added if platform-specific (os, requires.bins)
- [ ] No nested parameter schemas (flat objects only)
- [ ] Confirmation step included for destructive operations
- [ ] Context budget impact calculated and within limits
